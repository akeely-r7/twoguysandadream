<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
    <entry key="league.findOne"><![CDATA[
       SELECT id, name, salary_cap, sport, auction_length, bid_time_ext, bid_time_buff
       FROM leagues
       WHERE id = :leagueId
    ]]></entry>
    <entry key="league.findOneByName"><![CDATA[
       SELECT id, name, salary_cap, sport, auction_length, bid_time_ext, bid_time_buff
       FROM leagues
       WHERE name = :leagueName
    ]]></entry>
    <entry key="league.rosterSpots"><![CDATA[
       SELECT COUNT(*) FROM positions WHERE leagueid = :leagueId
    ]]></entry>
    <entry key="league.findTeams"><![CDATA[
       SELECT t.id,t.name,t.num_adds,t.money_plusminus
       FROM teams t
       WHERE t.leagueid = :leagueId
    ]]></entry>
    <entry key="league.findRosters"><![CDATA[
       SELECT p.playerid,p.name,p.position,p.team AS realTeam,pw.price,t.name AS team
       FROM players_won pw
       JOIN players p
         ON pw.playerid=p.playerid
       JOIN teams t
         ON t.id=pw.teamid
       WHERE pw.leagueid = :leagueId
    ]]></entry>
    <entry key="user.findOne"><![CDATA[
       SELECT id FROM passwd WHERE openid=:openIdToken
    ]]></entry>
    <entry key="user.create"><![CDATA[
       INSERT INTO passwd (openid) VALUES (:openIdToken)
    ]]></entry>
    <entry key="user.findTeam"><![CDATA[
       SELECT id FROM teams WHERE ownerid=:userId AND leagueid=:leagueId
    ]]></entry>
    <entry key="bid.findAll"><![CDATA[
       SELECT p.playerid,p.name,p.position,p.team AS realTeam,t.id AS teamId,t.name AS team,ap.price,ap.time
       FROM auction_players ap
       JOIN players p
         ON ap.playerid=p.playerid
       JOIN teams t
         ON ap.teamid=t.id
       WHERE ap.leagueid = :leagueId
    ]]></entry>
    <entry key="bid.save"><![CDATA[
       UPDATE auction_players
       SET time=:expirationTime, teamid=:teamId, price=:amount
       WHERE playerid=:playerId
         AND leagueid=:leagueId
    ]]></entry>
    <entry key="player.findOne"><![CDATA[
       SELECT playerid,name,position,team FROM player WHERE playerid=:playerId AND active=1
    ]]></entry>
</properties>
